var Efferent;(function(e){var t;(function(t){var i;(function(t){var i=e.Frontend.WebClient;var r=e.Frontend.WebClient.DOMUtils;class FiltersForm{Create(e,t,s){var a=new Array;var n=document.createElement("div");r.AddClass(n,"section");var l=document.createElement("div");r.AddClass(l,"block");n["BodySection"]=l;var o=new i.Form(l,t[0],s);o.AddField(new i.Field(i.EFieldType.Group,"",{text:"Worklist filters"},{},[]));o.AddField(new i.Field(i.EFieldType.Container,"filterBodyContainer",{id:"filterFormBody"},{},[]));o.Render();n.appendChild(l);var l=document.createElement("div");r.AddClass(l,"block");n["Buttons"]=l;var o=new i.Form(l,t[0],s);o.AddField(new i.Field(i.EFieldType.Group,"",{text:"Save as preferred"},{},[]));o.AddField(new i.Field(i.EFieldType.Textbox,"inputNewProfile",{id:"newProfileButton",value:"",newline:true,width:270},{width:"223px"},["newProfileName"]));o.AddField(new i.Field(i.EFieldType.Checkbox,"chkForAllUser",{label:"Set preferred for all user of the organization",newline:true,checked:t[0].chkForAllUserSelection},{display:"none"},[]));o.AddField(new i.Field(i.EFieldType.Button,"BtnSaveFilter",{id:"IdApplyFilter",text:"Apply"},{"margin-right":"10px","margin-bottom":"10px"},["green","inline"],t[0].actionBtnApplyFilter));o.AddField(new i.Field(i.EFieldType.Button,"BtnSaveFilter",{id:"IdSaveFilter",text:"Save"},{"margin-right":"10px","margin-bottom":"10px"},["green","inline"],t[0].actionBtnSaveFilter));o.AddField(new i.Field(i.EFieldType.Button,"BtnSaveApplyFilter",{id:"IdSaveApplyFilter",text:"Save and apply"},{"margin-right":"10px","margin-bottom":"10px"},["green","inline"],t[0].actionBtnSaveApplyFilter));o.AddField(new i.Field(i.EFieldType.Button,"BtnCancelFilter",{id:"IdCancelFilter",text:"Cancel"},{"margin-right":"10px","margin-bottom":"10px"},["red","inline"],t[0].actionBtnCancelFilter));o.AddField(new i.Field(i.EFieldType.Button,"BtnDeleteFilter",{id:"IdDeleteFilter",text:"Delete filter"},{"margin-right":"10px","margin-bottom":"10px"},["red","inline"],t[0].actionBtnDeleteFilter));o.Render();n.appendChild(l);e.appendChild(n);a.push(n);return a}}t.FiltersForm=FiltersForm})(i=t.FilterView||(t.FilterView={}))})(t=e.ClientViews||(e.ClientViews={}))})(Efferent||(Efferent={}));var Efferent;(function(e){var t;(function(t){var i;(function(t){var i=e.Frontend.WebClient.DOMUtils;var r=e.Frontend.WebClient.Utils;var s=e.Frontend.WebClient;var a=e.Frontend.FhirClient;var n=e.Frontend.SettingsClient;var l=e.Frontend.WebClient.CalendarUtils;const{div:o,input:c,label:h}=i;class FilterPane{constructor(e,t,i){this.objPreSavedFilter={};this.searchParamsList=[];this.loadingData=0;this.isLoading=false;this.parent=e;this.View=t;this.allowedSearchParameters=i;this.gridTemplateColumns=t.Platform.CurrentSpec.GridTemplates[t["SpecView"].TemplateId].Columns}Create(){const e=document.createElement("div");i.AddClass(e,"worklistFilter");this.WorklistFilter=e;const t=new Hammer(this.WorklistFilter);t.get("pan").set({direction:Hammer.DIRECTION_ALL,pointers:0,threshold:0});t.on("panstart panmove panend",(e=>{if(e.type==="panmove")i.ScrollElement(this.WorklistFilter,e.deltaY<0?-e.distance:e.distance,e.additionalEvent==="panup"||e.additionalEvent==="pandown")}));i.ScrollElement(this.WorklistFilter);this.parent.appendChild(this.WorklistFilter)}Show(e){this.WorklistFilter.style.display=e?"block":"none"}OnWindowResize(e,t){if(i.IsDisplay(this.WorklistFilter)){const e=document.documentElement.clientHeight-this.View.Platform.ToolbarSectionHeight();this.WorklistFilter.style.height=e-50+"px";this.View.ShowPanes(false);this.WorklistFilter.style.display="block"}}SetHeight(e){this.WorklistFilter.style.height=e+"px"}UnpackSearchSetttings(){const e=this.View.ViewName;const t=this.View.SpecView.Id;const i=n.SettingsController.GetSetting("CustomFilters",undefined,e,t);const r=n.SettingsController.GetSetting("OrgCustomFilters",undefined,e,t);const s=this.View.SpecView.DefaultFilters;const compareSettings=(e,t)=>{const i=e.toLowerCase();const r=t.toLowerCase();if(i>r)return 1;else if(i<r)return-1;else return 0};const sortSettingObject=e=>{const t={};const i=Object.keys(e);i.sort(compareSettings);i.forEach((i=>{t[i]=e[i]}));return t};let a=[];if(i){a.push({name:"CustomFilters",filters:sortSettingObject(JSON.parse(i.value))})}if(r){a.push({name:"OrgCustomFilters",filters:sortSettingObject(JSON.parse(r.value))})}if(s){a.push({name:"DefaultViewFilters",filters:sortSettingObject(s)})}return a}PackSearchSettings(t,i){t.forEach(((r,s)=>{const a=JSON.stringify(r.filters);const l=r.name==="OrgCustomFilters"?true:false;n.SettingsController.SetSetting(e.Frontend.SettingsClient.SettingsController.SETTING_VALUES.VIEW_INSTANCE,r.name,a,s===t.length-1?i:undefined,false,undefined,l,this.View.ViewName,this.View.SpecView.Id)}))}RemoveFilter(){sessionStorage.removeItem("appliedFilter");sessionStorage.removeItem("searchParamString");sessionStorage.removeItem("searchParamStatus");localStorage.removeItem("QuickSearchHolding");this.View.Platform.SearchState(false)}BuildSearchParams(e){let t=this.UnpackSearchSetttings();let i={};t.forEach((e=>{Object.assign(i,e.filters)}));return i[e]}ApplyFilter(e,t){let i="";const r=[];for(const t in e){if(e.hasOwnProperty(t)){const a=t.replace(":exact","").replace("|"," ").replace(":"," > ").replace("_","").replace(/(^\w|\s\w)/g,(e=>e.toUpperCase()));let n=e[t];let o;if(n.hasOwnProperty("date")){let i;let c;let h;switch(n.type){case s.EDateRangeType.Single:i=this.formatDate(new Date(e[t]["date"]));if(sessionStorage["technology"]==="Efferent")o=i+"T00:00:00.0000000Z,"+i+"T23:59:59.0000000Z";else o="ge"+i+"T00:00:00.0000000Z&"+t+"=le"+i+"T23:59:59.0000000Z";r.push(`${a} = ${i}`);break;case s.EDateRangeType.Range:if(sessionStorage["technology"]==="Efferent"){o=e[t].dataRange}else{const i=e[t].dataRange.split(",");o="ge"+i[0]+"&"+t+"=le"+i[1]}i=this.formatDate(new Date(e[t]["from"]));c=this.formatDate(new Date(e[t]["to"]));h=i===c?i:i+" to "+c;r.push(a+" = "+h);break;case s.EDateRangeType.Relative:if(n.range>0){n.from=new Date;n.to=l.AddDays(new Date,n.range)}else{n.from=l.AddDays(new Date,n.range);n.to=new Date}n.dataRange=`${l.GetDateNameInString(n.from,"-")}T00:00:00.0000000Z,${l.GetDateNameInString(n.to,"-")}T23:59:59.0000000Z`;if(sessionStorage["technology"]==="Efferent"){o=n.dataRange}else{const e=n.dataRange.split(",");o="ge"+e[0]+"&"+t+"=le"+e[1]}h=n.range===0?"Today":`${Math.abs(n.range)} ${n.range<0?"prev":"next"} days`;r.push(`${a} = "${h}"`);break}}else if(Array.isArray(n)){o=n.join(", ");r.push(a+" = "+o)}else if(n.hasOwnProperty("value")){o=n["value"];r.push(a+" = "+o)}else{o=n;r.push(a+" = "+o)}let c=t.replace("|",".");c=c.indexOf(".")>-1?c[0]+c.slice(1):c;i+=c+"="+o+"&"}}let a;if(sessionStorage.getItem("appliedFilter")===null){const e="view="+this.getCurrentView()+"&URN="+this.getCurrentUrn(true);sessionStorage.setItem("cleanQuerystring",e);a=new URLSearchParams("view="+this.getCurrentView()+"&URN="+this.getCurrentUrn())}else{let e;if(this.postProcessedCallUrl)e=new URLSearchParams("view="+this.getCurrentView()+"&URN="+this.postProcessedCallUrl);else e=new URLSearchParams(sessionStorage.getItem("cleanQuerystring"));a=e}const n=a.get("URN").split("?");if(n[1]){a.set("URN",n[0]+"?"+i+n[1])}else{i=i.slice(0,-1);a.set("URN",n[0]+"?"+i)}const o=`${r.join(" | ")}`;sessionStorage.setItem("appliedFilter",t);sessionStorage.setItem("searchParamString",i);sessionStorage.setItem("searchParamStatus",o);window.history.replaceState("page2","Title","main.html?"+a.toString());this.View.Platform.SearchState(true,o);this.View.LoadData(undefined,false);this.Show(false);this.View.ShowPanes(true);if(t==="QuickSearchObject")this.saveQuickSearchHolding()}BuildForm(e){var i;s.Loader.Show();this.searchParamsList=[];this.blockContainers=[];this.inputBoxes=[];this.objPreSavedFilter={};this.WorklistFilter.innerHTML="";this.objPreSavedFilter["actionBtnApplyFilter"]=e=>{this.searchSetttings(false,true)};this.objPreSavedFilter["actionBtnSaveApplyFilter"]=e=>{this.searchSetttings(true,false)};this.objPreSavedFilter["actionBtnSaveFilter"]=e=>{this.searchSetttings(false,false)};this.objPreSavedFilter["actionBtnCancelFilter"]=e=>{this.Show(false);this.View.ShowPanes(true)};this.objPreSavedFilter["actionBtnDeleteFilter"]=e=>{const t=this.UnpackSearchSetttings();let i=t.findIndex((e=>e.filters[sessionStorage.getItem("appliedFilter")]!==undefined));delete t[i].filters[sessionStorage.getItem("appliedFilter")];sessionStorage.removeItem("appliedFilter");sessionStorage.removeItem("searchParamString");sessionStorage.removeItem("searchParamStatus");this.PackSearchSettings(t,(()=>{window.history.replaceState("page2","Title","main.html?"+sessionStorage.getItem("cleanQuerystring"));this.View.LoadData();this.Show(false);this.View.ShowPanes(true);s.Toaster.ShowToast("Filter deleted.",s.Colors.Orange,3);this.View.FilterController.RebuildFilterMenu(t);this.View.Platform.SearchState(false)}))};let n=this.UnpackSearchSetttings();let l=((i=this.View.Platform.GetRolName())===null||i===void 0?void 0:i.match(/ADMIN/))||false;let o=n.findIndex((e=>e.filters[sessionStorage["appliedFilter"]]!==undefined));let c=false;if(o!==-1){if(n[o].name==="OrgCustomFilters")c=true;else if(n[o].name==="CustomFilters")c=false}this.objPreSavedFilter["chkForAllUserSelection"]=c;const h=[this.objPreSavedFilter];(new t.FiltersForm).Create(this.WorklistFilter,h);let d=s.Form.GetFieldFromForms(this.objPreSavedFilter,"chkForAllUser");if(d)d.labelhtmlElement.style.display=l?"block":"none";let u;const f=s.Form.GetFieldFromForms(h,"BtnDeleteFilter");const p=f.htmlElement;if(e){if(e!=="QuickSearchObject"){const t=s.Form.GetFieldFromForms(h,"inputNewProfile");t.htmlElement.value=e;t.htmlElement.disabled=true;const i=this.UnpackSearchSetttings();let r=i.findIndex((t=>t.filters[e]!==undefined));u=i[r].filters[e]}else{const t=s.Utils.DecodeBase64(sessionStorage.getItem("QuickSearchObject"));const i=JSON.parse(t);u=i[e];p.style.display="none"}}else{p.style.display="none"}const m=new a.FhirCall(s.PlatformContext.PlatformUri+(sessionStorage["technology"]==="Microsoft"?"/azurestorage/Resource.json":"/fhir/SearchParameter?base=Resource"),"GET");m.FuncOk=(t,i)=>{try{const i=JSON.parse(t);const r=s.Form.GetFieldFromForms(h,"filterBodyContainer");this.injectFields(i,r.htmlElement,"Resource",true,e,u);this.View.Platform.SearchParameters["Resource"]=i}catch(e){r.DebugConsoleLog(e)}};m.FuncError=e=>{s.Toaster.ShowToast("Could not retrieve search parameters list.",s.Colors.Alizarin,3)};const g=this.View.Platform.CurrentSpec.GridTemplates[this.View["SpecView"].TemplateId]["ResourceType"];if(this.View.Platform.SearchParameters.hasOwnProperty(g)){const t=s.Form.GetFieldFromForms(h,"filterBodyContainer");this.injectFields(this.View.Platform.SearchParameters[g],t.htmlElement,g,false,e,u);if(this.View.Platform.SearchParameters.hasOwnProperty("Resource")){const t=s.Form.GetFieldFromForms(h,"filterBodyContainer");this.injectFields(this.View.Platform.SearchParameters["Resource"],t.htmlElement,"Resource",true,e,u)}else{m.Send()}}else{const t=s.Utils.Capitalize(g);const i=sessionStorage["technology"]==="Efferent"?"/fhir/SearchParameter?base="+t:"/azurestorage/"+t+".json";const n=new a.FhirCall(s.PlatformContext.PlatformUri+i,"GET");n.FuncOk=(t,i)=>{try{const i=JSON.parse(t);const r=s.Form.GetFieldFromForms(h,"filterBodyContainer");this.injectFields(i,r.htmlElement,g,false,e,u);this.View.Platform.SearchParameters[g]=i;if(this.View.Platform.SearchParameters.hasOwnProperty("Resource")){const t=s.Form.GetFieldFromForms(h,"filterBodyContainer");this.injectFields(this.View.Platform.SearchParameters["Resource"],t.htmlElement,"Resource",true,e,u)}else{m.Send()}}catch(e){r.DebugConsoleLog(e)}};n.FuncError=e=>{s.Toaster.ShowToast("Could not retrieve search parameters list.",s.Colors.Alizarin,3)};n.Send()}}LoadingDataToggle(e){if(e){this.loadingData++;if(this.loadingData>0&&!this.isLoading){this.isLoading=true;s.Loader.Show()}}else{this.loadingData--;if(this.loadingData<=0&&this.isLoading){this.loadingData=0;this.isLoading=false;s.Loader.Hide()}}}FillSearchOptions(e){this.options=[];let t="";const i=s.Form.GetFieldFromForms(this.View.FilterController.SearchFunctions,"searchContainer");if(!i)return;const r=i.htmlElement;r.innerHTML="";this.searchOptionsSelect=document.createElement("select");this.searchOptionsSelect.setAttribute("id","searchOptionsSelect");r.appendChild(this.searchOptionsSelect);r.style.position="relative";this.injectSearchParamOptions();if(!e){let e=s.LocalStorage.Get("LastSearchOption");if(e)t=e}else{t=e}if(t)this.searchOptionsSelect.value=t;this.changeSearchSelect();this.searchOptionsSelect.onchange=()=>{this.changeSearchSelect()}}QuickSearch(e=false){let t;const i=document.getElementsByClassName("inputType");for(const e in i){if(i.hasOwnProperty(e)){if(i[e].offsetWidth>0&&i[e].offsetHeight>0){const r=i[e];if(r.hasAttribute("data-range")&&r.getAttribute("data-range")!==","){t=this.View.FilterController.SearchDateTimePickerObj.GetData();const e=r.getAttribute("data-range").split(",");t["dataRange"]=e[0]+"T00:00:00.0000000Z,"+e[1]+"T23:59:59.0000000Z"}else{t=r.value}}}}if((typeof t==="string"&&t!==""&&t.indexOf("--")===-1&&t!==","||t instanceof Object)&&this.searchOptionsSelect.value!=="-- Select parameter --"){let i="";if(["string","HumanName"].indexOf(this.selectedFieldType)>-1){const e=this.View.FilterController.SearchFunctions["forms"][0];const t=e.GetField("exactSearchCheck").htmlElement;i=t.checked?":exact":""}const r={QuickSearchObject:{}};r["QuickSearchObject"][this.searchOptionsSelect.value+(["string","HumanName"].indexOf(this.selectedFieldType)>-1?":exact":"")]=t;const a={};a[this.searchOptionsSelect.value+i]=t;const n=s.Utils.EncodeBase64(JSON.stringify(r));sessionStorage.setItem("QuickSearchObject",n);s.LocalStorage.Set("LastSearchOption",this.searchOptionsSelect.value);this.ApplyFilter(a,"QuickSearchObject");if(!e)this.View.Platform.Toolbar.Topbar.Hide();else{s.LocalStorage.Set("searchParams",JSON.stringify({searchBy:this.searchOptionsSelect.value,value:t,exact:i}))}}else{s.Toaster.ShowToast("Please input a value to search.",s.Colors.Orange,3)}}IsFilterOrganization(){let e=false;const t=this.View.ViewName;const i=this.View.SpecView.Id;const r=n.SettingsController.GetSetting("CustomFilters",undefined,t,i);const s=n.SettingsController.GetSetting("OrgCustomFilters",undefined,t,i);let a=sessionStorage["appliedFilter"];let l=r?JSON.parse(r.value):undefined;let o=s?JSON.parse(s.value):undefined;if(l&&l[a])e=false;else if(o&&o[a])e=true;return e}SetQuickDataHoling(){let e=localStorage.getItem("QuickSearchHolding");if(e){const t=s.Utils.DecodeBase64(e);const i=JSON.parse(t);const r=s.Utils.DecodeBase64(i["QuickSearchObject"]);const a=JSON.parse(r);const n=a[i["appliedFilter"]];sessionStorage["QuickSearchObject"]=i["QuickSearchObject"];this.ApplyFilter(n,i["appliedFilter"])}}saveQuickSearchHolding(){localStorage.setItem("QuickSearchHolding",JSON.stringify({appliedFilter:sessionStorage["appliedFilter"],LastSearchOption:s.LocalStorage.Get("LastSearchOption"),cleanQuerystring:sessionStorage["cleanQuerystring"],searchParamString:sessionStorage["searchParamString"],searchParamStatus:sessionStorage["searchParamStatus"],QuickSearchObject:sessionStorage["QuickSearchObject"]}))}injectSearchParamOptions(){const e=[];const createLabel=(e,t,i)=>`${t}${e.length>1?` (${i["ResourceType"]})`:""}`;const appendOptionProperty=e=>{const t=document.createElement("option");t.setAttribute("fieldType",e["FieldType"]);if(e["Data"]==="date")t.setAttribute("data","date");else if(e["name"]==="_tag")t.setAttribute("data","tag");else t.setAttribute("data","string");t.innerText=e["label"];t.value=e["FilterQuery"];this.searchOptionsSelect.appendChild(t)};for(const t in this.View["FilterProperties"]){if(this.View["FilterProperties"].hasOwnProperty(t)){const i=this.View["FilterProperties"][t];for(let r=0;r<i.length;r++){const s=i[r];s["label"]=createLabel(i,t,s);e.push(s)}}}e.sort(((e,t)=>{if(e.label>t.label)return 1;else if(e.label<t.label)return-1;else return 0}));e.forEach(appendOptionProperty)}createInput(e,t,r,a,n,l,d,u,f,p){let m=!r?e["name"]:u.toLowerCase()+t+"|"+e["name"];let g;let S;let F;if(p)g=p["type"][0]["code"];if(e["type"]!=="date"){let t;if(d){t=document.createElement("select");const createOptions=e=>{for(let i=0;i<e.length;i++){const r=document.createElement("option");r.value=e[i]["code"];r.text=e[i].hasOwnProperty("display")?e[i]["display"]:e[i]["code"];t.appendChild(r)}};if(d.hasOwnProperty("concept")){const e=Array.from(d["concept"]);e.unshift({code:"-- Select an option --",display:"-- Select an option --"});createOptions(e)}else{const e=d["compose"].include;for(let t=0;t<e.length;t++){if(e[t].hasOwnProperty("concept")){const i=Array.from(e[t]["concept"]);i.unshift({code:"-- Select an option --",display:"-- Select an option --"});createOptions(i)}}}}else if(e["name"]==="_tag"){const e=this.View.Platform.CurrentSpec.GridTemplates[this.View["SpecView"].TemplateId]["ResourceType"];t=document.createElement("input");t.setAttribute("type","text");t.setAttribute("list","tagDatalist");const i=document.createElement("datalist");l.appendChild(i);i.id="tagDatalist";const r=s.TagUtils.ParseTagRules(this.View.Platform.Configuration.Tags.hasOwnProperty(e)?this.View.Platform.Configuration.Tags[e]:"");for(const e in r){if(r.hasOwnProperty(e)){const injectOption=e=>{const t=document.createElement("option");t.value=e;t.text=e;i.appendChild(t)};if(Array.isArray(r[e])){for(const t in r[e]){if(r[e].hasOwnProperty(t)){injectOption(r[e][t])}}}else{injectOption(r[e])}}}}else{t=document.createElement("input");t.setAttribute("type","text");if(["string","HumanName"].indexOf(g)>-1){const e=m.replace(/[^\w\s]/gi,"");S=o({style:{display:"inline-block"},children:[F=c({id:`chk-${e}`,type:"checkbox",onchange:e=>{const i=e.target.checked;if(i)t.setAttribute("data",`${m}:exact`);else t.setAttribute("data",m)}}),h({innerHTML:"Exact",htmlFor:`chk-${e}`,style:{display:"block",margin:"7px 0px 5px 10px"}})]})}}t.setAttribute("data",m);let r=false;if(a&&n){const cleanResource=e=>e.replace("|",".").toLowerCase().replace(":exact","");Object.keys(n).forEach((e=>{const i=cleanResource(m);const s=cleanResource(e);if(i===s&&e.includes(":exact"))r=true;if(i===s){if(n[e].hasOwnProperty("value"))t.value=n[e].value;else if(Array.isArray(n[e])&&n[e].length>0)t.value=n[e][0];else t.value=n[e]}}))}l.appendChild(t);if(S&&F){l.appendChild(S);F.checked=r}this.searchParamsList.push([t]);if(f==="true"){const e=document.createElement("button");e.innerText="+";e.style.width="30px";e.style.marginLeft="15px";i.AddClass(e,"green inlineButton");l.appendChild(e);e.addEventListener("click",(()=>{this.createOrCapableField(l,t,e)}));if(a&&n){if(m in n){if(Array.isArray(n[m])){for(let i=1;i<n[m].length;i++){this.createOrCapableField(l,t,e,n[m][i])}}}}}}else{let e=new Date;let t=new Date;let i=new Date;let r=s.EDateRangeType.Range;let o=0;let c=false;if(a&&n){for(const s in n){if(n.hasOwnProperty(s)){if(m.replace("|",".").toLowerCase()===s.replace("|",".").toLowerCase()){e=new Date(n[s].date);t=new Date(n[s].from);i=new Date(n[s].to);o=n[s].range;r=n[s].type;c=true}}}}const h=new s.DateRangePicker(l,{date:e,from:t,to:i,range:o,type:r},{allowEmpty:true},c);l.setAttribute("data",m);this.searchParamsList.push([l,h])}this.inputBoxes.push(m);if(this.inputBoxes.length===Object.keys(this.allowedSearchParameters).length)this.orderFields()}createOrCapableField(e,t,i,r){const s=i.previousSibling;const a=t.cloneNode();a.style.marginTop="5px";e.insertBefore(a,i);if(s.tagName==="DIV"&&s.innerText==="Exact")e.insertBefore(a,s);a.style.display="inline-block";a.previousSibling.style.display="block";this.searchParamsList.push([a]);if(r)a.value=r;else a.value=""}changeSearchSelect(){const e=this.searchOptionsSelect[this.searchOptionsSelect.selectedIndex];if(e){s.LocalStorage.Set("selectedSearchBy",e.value);const t=e.getAttribute("data");const i=e.getAttribute("fieldType");this.selectedFieldType=i;const r=document.getElementsByClassName("inputType");for(const e in r){if(r.hasOwnProperty(e))r[e].style.display="none"}const a=document.getElementById("searchValue");let n=document.querySelector("#exactSearchCheckId");if(a){a.setAttribute("selectedFieldType",this.selectedFieldType);if(["string","HumanName"].indexOf(i)>-1){this.View.FilterController.OnInputSearchValue(a);n.nextElementSibling.style.display="block"}else{this.View.FilterController.ExactSearchControl(false);n.nextElementSibling.style.display="none"}n.nextElementSibling.style.margin="7px 0px 5px 10px"}const l=document.getElementsByClassName(t+"InputType");l[0].style.display="inline-flex";l[0].focus()}}buildSearchOptionsObject(e){let t=this.UnpackSearchSetttings();let i={};t.forEach((e=>{Object.assign(i,e.filters)}));let r;if(!e){const e=s.Form.GetFieldFromForms(this.objPreSavedFilter,"inputNewProfile");r=e.htmlElement.value}else{r=e}let a=true;if(r!==""){i[r]={};for(let e=0;e<this.searchParamsList.length;e++){const t=this.searchParamsList[e][0];if(!t.classList.contains("daterange_box")){let e=t.value;if(e!==""&&e.indexOf("--")===-1){a=false;const s=i[r][t.getAttribute("data")];if(s){if(Array.isArray(s))s.push(e);else i[r][t.getAttribute("data")]=[s,e]}else{i[r][t.getAttribute("data")]=e}}}else if(t.getAttribute("data-range")&&t.getAttribute("data-range")!==","&&t.querySelector("input").value){a=false;i[r][t.getAttribute("data")]=this.searchParamsList[e][1].GetData();const s=t.getAttribute("data-range").split(",");i[r][t.getAttribute("data")]["dataRange"]=s[0]+"T00:00:00.0000000Z,"+s[1]+"T23:59:59.0000000Z"}}if(!a)return i;else s.Toaster.ShowToast("No values found to search.",s.Colors.Orange,3)}else{s.Toaster.ShowToast("Please, input a name for the filter.",s.Colors.Orange,3)}}getFilterStructure(e,t){let i=this.UnpackSearchSetttings();let r=s.Form.GetFieldFromForms(this.objPreSavedFilter,"chkForAllUser");const a=r.htmlElement.checked;let n=i.findIndex((t=>t.filters[e]!==undefined));let l={};let o=i.findIndex((e=>e.name==="CustomFilters"));let c=i.findIndex((e=>e.name==="OrgCustomFilters"));if(a){if(o!==-1){let t=i[o].filters[e];if(t){delete i[o].filters[e]}}if(c===-1){l={};l[e]=t[e];i.push({name:"OrgCustomFilters",filters:l})}else{i[c].filters[e]=t[e]}}else{if(c!==-1){let t=i[c].filters[e];if(t)delete i[c].filters[e]}if(o===-1){l={};l[e]=t[e];i.push({name:"CustomFilters",filters:l})}else{i[o].filters[e]=t[e]}}return i}searchSetttings(e,t){const i=s.Form.GetFieldFromForms(this.objPreSavedFilter,"inputNewProfile");const r=i.htmlElement;if(r.value==="QuickSearchObject"){s.Toaster.ShowToast("Reserved filter name, please input a different one.",s.Colors.Orange,3)}else{if(t)r.value="QuickSearchObject";const i=this.buildSearchOptionsObject();if(i){const a=s.Utils.EncodeBase64(JSON.stringify(i));if(t){sessionStorage.setItem(r.value,a);this.ApplyFilter(i[r.value],r.value)}else{s.Loader.Show();let t=this.getFilterStructure(r.value,i);this.PackSearchSettings(t,(()=>{if(e)this.ApplyFilter(i[r.value],r.value);s.Toaster.ShowToast("Filter saved.",s.Colors.Emerald,3);s.Loader.Hide()}));this.View.FilterController.RebuildFilterMenu(t)}this.Show(false);this.View.ShowPanes(true)}else if(t&&r.value==="QuickSearchObject"){r.value=""}}}formatDate(e,t){return e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)}orderFields(){for(let e=0;e<this.blockContainers.length;e++){this.blockContainers[e].style.display="block"}s.Loader.Hide()}injectFields(e,t,i,n,l,o){let c=false;for(const e in this.allowedSearchParameters){if(!n||n&&this.allowedSearchParameters[e][0].indexOf(i+".")>-1){c=true;break}}if(c){a.ValueHelper.GetStructureDefinition(i,(()=>{const c=document.createElement("div");t.appendChild(c);const h=document.createElement("h3");h.innerText=i[0].toUpperCase()+i.slice(1);c.appendChild(h);c.style.display="none";this.blockContainers.push(c);const d=[];for(let t=0;t<e["entry"].length;t++){const h=e["entry"][t].resource;switch(h["type"]){case"token":case"number":case"date":case"string":case"uri":if(!n&&this.ObjectHasValue(this.allowedSearchParameters,h["name"])||n&&this.ObjectHasValue(this.allowedSearchParameters,i+"."+h["name"])){const inject=()=>{const e=h;const t=i;const r=n;const s=document.createElement("div");s.classList.add("filterForm");c.appendChild(s);const d=!n?h["name"]:i+"."+h["name"];const u=document.createElement("h2");let f=this.ObjectHasValue(this.allowedSearchParameters,d);let p="";if(f[f.length-1]==="|"){p="true";f=f.slice(0,-1)}u.innerText=f;s.appendChild(u);const m=document.createElement("div");s.appendChild(m);let g=this.GetSearchParamReference(this.allowedSearchParameters,d);if(g!==null)g+=":";else g="";const Createinputcallback=(i,s)=>{this.createInput(e,t,r,l,o,m,i,g,p,s)};if(a.ValueHelper.StructureDefinitions[i]!==null&&i!=="Resource"){const e=a.ValueHelper.StructureDefinitions[i]["snapshot"].element;for(let t=0;t<e.length;t++){const r=!n?i+"."+d:d;const s=e[t].path.split(".");const l=r.replace("-","");if((i+"."+s[s.length-1]).toLowerCase()===l.toLowerCase()){if(e[t].hasOwnProperty("binding"))a.ValueHelper.GetValueSet(e[t],Createinputcallback);else Createinputcallback(null,e[t]);break}}}else{Createinputcallback()}};inject()}break;case"reference":if(!n){let e;for(let t=0;t<h["target"].length;t++){const i=this.ObjectHasValue(this.allowedSearchParameters,h["target"][t].toLowerCase()+".",false);const r=this.GetSearchParamReference(this.allowedSearchParameters,h["target"][t].toLowerCase()+".");if(i&&r===h["name"])e=h["target"][t].toLowerCase()}if(d.indexOf(e)===-1){const CreateNewBlock=()=>{const t=e;const i=s.Utils.Capitalize(t);const n=sessionStorage["technology"]==="Efferent"?"/fhir/SearchParameter?base="+i:"/azurestorage/"+i+".json";const c=new a.FhirCall(s.PlatformContext.PlatformUri+n,"GET");if(this.View.Platform.SearchParameters.hasOwnProperty(t)){const e=s.Form.GetFieldFromForms(this.objPreSavedFilter,"filterBodyContainer");this.injectFields(this.View.Platform.SearchParameters[t],e.htmlElement,t,true,l,o);d.push(t)}else{c.FuncOk=(e,i)=>{try{const i=JSON.parse(e);const r=s.Form.GetFieldFromForms(this.objPreSavedFilter,"filterBodyContainer");this.injectFields(i,r.htmlElement,t,true,l,o);this.View.Platform.SearchParameters[t]=i}catch(e){r.DebugConsoleLog(e)}};c.FuncError=e=>{s.Toaster.ShowToast("Could not retrieve search parameters list.",s.Colors.Alizarin,3)};c.Send();d.push(t)}};CreateNewBlock()}}break}}}))}}getCurrentUrn(e){let t;let i=this.View.Platform.CurrentView["SpecView"];let r=this.View.SpecView;t=i.Id===r.Id?i:r;if(e!==undefined){return encodeURIComponent(t.URN)}else if(this.View["Controller"].hasOwnProperty("postProcessedCallUrl")||this.postProcessedCallUrl!==undefined){if(this.postProcessedCallUrl===undefined)this.postProcessedCallUrl=encodeURIComponent(this.View["Controller"].postProcessedCallUrl);return this.postProcessedCallUrl}else{return encodeURIComponent(t.URN)}}getCurrentView(){let e=decodeURIComponent(s.HttpUtils.GetUrlParameter("view"));if(e==="")e=this.View.Platform.CurrentView["SpecView"].Id;return e}injectOptions(e,t,i,n){let l=false;const o=[];for(const e in this.allowedSearchParameters){if(!n||n&&this.allowedSearchParameters[e][0].indexOf(i+".")>-1){l=true;break}}if(l){a.ValueHelper.GetStructureDefinition(i,(()=>{const l=document.createElement("option");l.innerHTML=i.toUpperCase();l.disabled=true;t.appendChild(l);for(let l=0;l<e["entry"].length;l++){const c=e["entry"][l].resource;switch(c["type"]){case"token":case"number":case"date":case"string":case"uri":if(!n&&this.ObjectHasValue(this.allowedSearchParameters,c["name"])||n&&this.ObjectHasValue(this.allowedSearchParameters,i+"."+c["name"])){const r=!n?c["name"]:i+"."+c["name"];const createOptionCallback=a=>{const o=document.createElement("option");if(c["type"]==="date")o.setAttribute("data","date");else if(c["name"]==="_tag")o.setAttribute("data","tag");else o.setAttribute("data","string");t.appendChild(o);if(a)o.setAttribute("fieldType",a["type"][0]["code"]);let h=this.ObjectHasValue(this.allowedSearchParameters,r);if(h[h.length-1]==="|")h=h.slice(0,-1);o.innerHTML="&nbsp;&nbsp;&nbsp;"+h;let d=this.GetSearchParamReference(this.allowedSearchParameters,r);if(d!==null)d+=":";else d="";o.value=!n?e["entry"][l].resource.name:d+i+"|"+e["entry"][l].resource.name;this.options.push(o.value);if(this.options.length===Object.keys(this.allowedSearchParameters).length){this.optionsProcessRing.style.display="none";const e=s.LocalStorage.Get("selectedSearchBy");if(e!==undefined){for(let i=0;i<t.options.length;i++){if(t.options[i].value===e){t.selectedIndex=i;this.changeSearchSelect()}}}}};if(a.ValueHelper.StructureDefinitions[i]!==null){const e=a.ValueHelper.StructureDefinitions[i]["snapshot"].element;for(let t=0;t<e.length;t++){const s=!n?i+"."+r:r;const a=e[t].path.split(".");const l=s.replace("-","");if((i+"."+a[a.length-1]).toLowerCase()===l.toLowerCase()){createOptionCallback(e[t]);break}}}else{createOptionCallback()}}break;case"reference":if(!n){let e;for(let t=0;t<c["target"].length;t++){const i=this.ObjectHasValue(this.allowedSearchParameters,c["target"][t].toLowerCase()+".",false);if(i)e=c["target"][t].toLowerCase()}if(o.indexOf(e)===-1){const CreateNewBlock=()=>{const i=e;const n=s.Utils.Capitalize(i);const l=sessionStorage["technology"]==="Efferent"?"/fhir/SearchParameter?base="+n:"/azurestorage/"+n+".json";const c=new a.FhirCall(s.PlatformContext.PlatformUri+l,"GET");if(this.View.Platform.SearchParameters.hasOwnProperty(i)){setTimeout((()=>{this.injectOptions(this.View.Platform.SearchParameters[i],t,i,true)}),10);o.push(i)}else{c.FuncOk=(e,s)=>{try{const r=JSON.parse(e);this.injectOptions(r,t,i,true);this.View.Platform.SearchParameters[i]=r}catch(e){r.DebugConsoleLog(e)}};c.FuncError=e=>{s.Toaster.ShowToast("Could not retrieve search parameters list.",s.Colors.Alizarin,3)};c.Send();o.push(i)}};CreateNewBlock()}}break}}}))}}ObjectHasValue(e,t,i){for(const r in e){if(e.hasOwnProperty(r)){if(i!==undefined){if(e[r][0].indexOf(t)>-1)return r}else{if(e[r][0]===t)return r}}}return null}GetSearchParamReference(e,t){for(const i in e){if(e.hasOwnProperty(i)){if(e[i][0].indexOf(t)>-1&&e[i].length>1)return e[i][1]}}return null}}t.FilterPane=FilterPane})(i=t.FilterView||(t.FilterView={}))})(t=e.ClientViews||(e.ClientViews={}))})(Efferent||(Efferent={}));var Efferent;(function(e){var t;(function(t){var i;(function(t){var i=e.Frontend.WebClient;var r=e.Frontend.WebClient.DOMUtils;class FilterView extends i.SubView{constructor(e,t){super(e,t,"ViewerLanguage");this.Element.style.display="none";r.AddClass(this.Element,"FilterViewContainer");this.HoldAliveElement=true;this.SetButtons()}SetButtons(){super.SetButtons([],(()=>{this.DisposeView();this.Element.style.display="none";document.querySelector(".mainPage > .panel").classList.remove("hide");return}))}DisposeView(){}OnWindowResize(e,t,i){super.OnWindowResize(e,t,i)}}t.FilterView=FilterView})(i=t.FilterView||(t.FilterView={}))})(t=e.ClientViews||(e.ClientViews={}))})(Efferent||(Efferent={}));var Efferent;(function(e){var t;(function(e){var t;(function(e){class ResourceBag{}ResourceBag.SmartshareLogoPng="data:image/png;base64,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";e.ResourceBag=ResourceBag})(t=e.FilterView||(e.FilterView={}))})(t=e.ClientViews||(e.ClientViews={}))})(Efferent||(Efferent={}));