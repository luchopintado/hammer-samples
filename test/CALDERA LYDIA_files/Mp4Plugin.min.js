var Vue;(function(e){var t;(function(t){var r;(function(t){var r=Efferent.Frontend.WebClient;var o=Efferent.Frontend.WebClient.DOMUtils;var i=Efferent.ClientViews.ImagingStudyView;let n;(function(e){e[e["Play"]=0]="Play";e[e["Pause"]=1]="Pause";e[e["Rewind"]=2]="Rewind";e[e["Forward"]=3]="Forward";e[e["Start"]=4]="Start";e[e["End"]=5]="End";e[e["Loop"]=6]="Loop";e[e["Stop"]=7]="Stop"})(n=t.VideoActions||(t.VideoActions={}));class Mp4Plugin{constructor(){this.PluginName="Mp4Plugin";this.SupportedViewportType=["Mp4Viewport"]}Initialize(t,o,i,n,l){this.Controller=t;var a=r.Loader.Show();this.Controller.View.Platform.LanguageManager.AddDictionary("{Vue.Products.Mp4Plugin.ResourceBag.Mp4PluginLanguageJson}","Mp4PluginLanguage",e.Products.Mp4Plugin.ResourceBag.Mp4PluginLanguageJson[this.Controller.View.Platform.LanguageManager.CurrentLanguage]);this.LoadPlugin();if(i===o.length-1){if(n!==undefined)n.call(this.Controller.View,l)}else o[i+1].Initialize(this.Controller,o,i+1,n,l);r.Loader.Hide(a.getAttribute("id"))}LoadPlugin(){var e=[["playMp4Tool",t.ResourceBag.Icons8Play32Png,e=>{var t=this.Controller.GetSelectViewport(this.Controller.ViewportPane);if(t!==null){t.Actions(n.Play);this.StatusVideo=n.Play;this.Controller.SelectTool("Pointer","pointerTool");this.ControlsMp4()}}]];var r=[["pauseMp4Tool",t.ResourceBag.Icons8Pause32Png,e=>{var t=this.Controller.GetSelectViewport(this.Controller.ViewportPane);if(t!==null){t.Actions(n.Pause);this.StatusVideo=n.Pause;this.Controller.SelectTool("Pointer","pointerTool");this.ControlsMp4()}}]];var o=[["stopMp4Tool",t.ResourceBag.Icons8Stop32Png,e=>{var t=this.Controller.GetSelectViewport(this.Controller.ViewportPane);if(t!==null){t.Actions(n.Stop);this.StatusVideo=n.Stop;this.Controller.SelectTool("Pointer","pointerTool");this.ControlsMp4()}}]];this.Controller.View.Platform.Toolbar.AppendControlsToGroup([e,r,o],"Mp4PluginLanguage","toolbarviewer.2",this);this.Controller.View.ShowButtonsByPlugins(this.Controller.View.Platform.Toolbar,this,false)}Terminate(){}CloseActionsConfig(){}GetRememberToolsPerName(){var e=[];return e}GetContextMenuOptions(){var e=new Array;return e}ControlsMp4(){this.InactiveAllButtonsMp4();var e=null;switch(this.StatusVideo){case n.Play:e=this.Controller.View.Platform.Toolbar.GetButton("playMp4Tool");break;case n.Pause:e=this.Controller.View.Platform.Toolbar.GetButton("pauseMp4Tool");break;case n.Stop:e=null}if(e!==null){if(!o.HasClass(e.Element,"selected")){o.AddClass(e.Element,"selected");o.AddClass(e.Element,"fixedSelected")}else{o.RemoveClass(e.Element,"selected");o.RemoveClass(e.Element,"fixedSelected")}}}InactiveAllButtonsMp4(){var e=this.Controller.View.Platform.Toolbar.GetButton("playMp4Tool");var t=this.Controller.View.Platform.Toolbar.GetButton("pauseMp4Tool");var r=this.Controller.View.Platform.Toolbar.GetButton("stopMp4Tool");o.RemoveClass(e.Element,"selected");o.RemoveClass(e.Element,"fixedSelected");o.RemoveClass(t.Element,"selected");o.RemoveClass(t.Element,"fixedSelected");o.RemoveClass(r.Element,"selected");o.RemoveClass(r.Element,"fixedSelected")}OnWindowResize(e,t,r=false,o=false){var i=true;var n=this.Controller.StudyViewerModel.Documents;if(i&&n.IndexData.length>0)this.SetSeriesAutomaticInViewports(n.StructureData[n.IndexData[0]].Study.StudyGUID,o);this.ValidateViewportVoid()}ValidateViewportVoid(){let e=this.Controller.GetSelectViewport(this.Controller.ViewportPane);if(e){if(e instanceof t.Mp4Viewport)r.Toolbar.UnBlockAndBlockButtons(this.Controller.View.Platform.Toolbar.Groups,false)}}ReCreateViewport(e){var r=this.Controller.ViewportPane.ViewportsArray[e];var o=r.NumberInPanel;var i=new t.Mp4Viewport(this.Controller.ViewportPane.ViewportPaneSection,"viewportSection_"+(e+1),(e=>{}),this.Controller,this.Controller.ViewportPane,this);i.Create(e,r.ViewportFrameElement,r.ViewportElement,r.ContentElement);this.Controller.ViewportPane.ViewportsArray[e]=i;this.Controller.ViewportPane.ViewportsArray[e].NumberInPanel=o;return i}EscapeAction(){}RefreshAnnotationsOnAllViewports(){}SetDefaultTool(e){}SetSeriesToViewport(e,i,l,a,s,u=false){var p=this.Controller.View.Platform.GetSetting("buttonBarFirstSeriesPopulate")===undefined?1:parseInt(this.Controller.View.Platform.GetSetting("buttonBarFirstSeriesPopulate"));p=p-1;if(a<p)return;var d=this.Controller.StudyViewerModel.Documents.StructureData[e].Study.Series.StructureData[i];if(d.SeriesGUID===i){if(d.Images!==undefined&&d.Images!==null&&(d.Images.StructureData[d.Images.IndexData[s]]["Load"]===undefined||d.Images.StructureData[d.Images.IndexData[s]]["Load"]===false)){return}if(!u&&this.findSeriesOrImageInViewports(e,i,null,true))return;var A=this.Controller.ViewportPane.ViewportsArray;for(var h=0;h<A.length;h++){var w=A[h];if(o.IsDisplay(w.ViewportFrameElement)&&(w.Context.ImageEntity===null||u)){if(!(w instanceof t.Mp4Viewport)&&w.Context.ImageEntity!==null){continue}else{w=this.ReCreateViewport(w.IndexNumber)}this.Controller.ViewportPane.ChangeViewportsNumber();var V=w;V.ViewportElement.width=V.Width;V.ViewportElement.height=V.Height;V.ViewportFrameElement.setAttribute("data-seriesGuid",i);V.ViewportFrameElement.setAttribute("data-studyGuid",e);V.Context.IsPseudoSeries=false;V.Context.ImageIndex=s;V.Context.SeriesIndex=a;V.Context.StudyGuid=e;V.Context.SeriesGuid=i;V.Context.ImageEntity=d.Images.StructureData[l];V.Context.TotalSeriesInStudy=this.Controller.StudyViewerModel.Documents.StructureData[e].Study.Series.IndexData.length||this.Controller.StudyViewerModel.Documents.StructureData[e].Study.SeriesCount;w.SetVideoPlay();this.StatusVideo=n.Play;this.ControlsMp4();this.Controller.UnselectViewports(this.Controller.ViewportPane);w.SelectViewport=true;w.ViewportFrameElement.style.borderColor=r.Colors.Emerald;o.AddClass(w.ViewportFrameElement,"SelectedViewport");w.ContentElement.focus();w.ContentElement.click();var c=this.Controller.GetSelectViewport(this.Controller.ViewportPane);this.ValidateViewportVoid();this.Controller.View.ShowToolbarButtonsBySupportViewport(this.Controller.View.Platform.Toolbar,c);break}}this.Controller.ThumbnailPane.UpdateAllThumnailsPane();this.ValidateViewportVoid()}}GetImageEntityForStudyAndSeries(e,t,r,o){return null}AssignViewportDrag(e,t,l,a,s){if(s!=="mp4")return;var u=this.Controller.StudyViewerModel.Documents.StructureData[t].Study.Series.StructureData[l.SeriesGUID];var p=u.Images.IndexData[0];if(this.Controller.LayoutMode===i.LayoutMode.Tile){this.Controller.View.Plugins.forEach((e=>{e.ClearViewports()}))}e=this.ReCreateViewport(e.IndexNumber);this.Controller.ViewportPane.ChangeViewportsNumber();this.Controller.UnselectViewports(this.Controller.ViewportPane);e.SelectViewport=true;e.ViewportFrameElement.style.borderColor=r.Colors.Emerald;o.AddClass(e.ViewportFrameElement,"SelectedViewport");var d=this.Controller.GetSelectViewport(this.Controller.ViewportPane);this.Controller.View.ShowToolbarButtonsBySupportViewport(this.Controller.View.Platform.Toolbar,d);var A=e;A.ViewportElement.width=A.Width;A.ViewportElement.height=A.Height;A.ViewportFrameElement.setAttribute("data-seriesGuid",l.SeriesGUID);A.ViewportFrameElement.setAttribute("data-studyGuid",t);A.Context.IsPseudoSeries=false;A.Context.ImageIndex=0;A.Context.SeriesIndex=a;A.Context.StudyGuid=t;A.Context.SeriesGuid=l.SeriesGUID;A.Context.ImageEntity=u.Images.StructureData[p];A.Context.TotalSeriesInStudy=this.Controller.StudyViewerModel.Documents.StructureData[t].Study.Series.IndexData.length||this.Controller.StudyViewerModel.Documents.StructureData[t].Study.SeriesCount;this.Controller.ThumbnailPane.UpdateAllThumnailsPane();e.SetVideoPlay();e.Actions(n.Play);this.StatusVideo=n.Play;this.ControlsMp4();var h=this.Controller.ViewportPane.ViewportsArray;for(var w=0;w<h.length;w++){try{var V=h[w];if(V!==null&&V.Context.ImageEntity!==null){V.Context.Renderer.Render();V.Context.OverlayRenderer.Render()}}catch(e){}}this.ValidateViewportVoid()}OnEvent(e,o,i,n){var l=this.Controller.ThumbnailPane.ThumbnailSerieSelect!==null&&this.Controller.ThumbnailPane.ThumbnailSerieSelect!==undefined;if(l&&e==="singletap"){if(this.Controller.ThumbnailPane.ThumbnailSerieSelect.Element.getAttribute("data-typeResource")==="mp4"){if(!(i instanceof t.Mp4Viewport)){i=this.ReCreateViewport(i.IndexNumber)}}}if(!this.SupportedViewportType.some((e=>e===i.PluginNameAction)))return;if(e==="singletap"||e==="doubletap"){var a=this.Controller.GetSelectViewport(this.Controller.ViewportPane);this.Controller.View.ShowToolbarButtonsBySupportViewport(this.Controller.View.Platform.Toolbar,a);if(e==="singletap"){r.Toolbar.UnBlockAndBlockButtons(this.Controller.View.Platform.Toolbar.Groups,false);if(l){if(this.Controller.ThumbnailPane.ThumbnailSerieSelect.Element.getAttribute("data-typeResource")==="mp4"){this.AssignViewportDrag(i,this.Controller.ThumbnailPane.ThumbnailSerieSelect.StudyGuid,this.Controller.ThumbnailPane.ThumbnailSerieSelect.SeriesItem,this.Controller.ThumbnailPane.ThumbnailSerieSelect.SeriesNumber-1,this.Controller.ThumbnailPane.ThumbnailSerieSelect.Element.getAttribute("data-typeResource"));this.Controller.View.MessageBar.style.display="none";this.Controller.ThumbnailPane.ThumbnailSerieSelect=null}}}}}SelectAnyTool(){if(this.Controller===undefined)return}HoldSaveSpecialAnnotationsOnCourse(){}InitAnnotations(e,t){}SetAnnotations(e,t){}RenderAnnotations(e){}DeleteSelectedAnnotations(e){}SerieIsMp4(e){let t=false;if(e.ImageCount===1){if(e.Images){let r=e.Images.IndexData[0];if(e.Images.StructureData[r]["TypeFile"]==="MP4")t=true}}return t}SetSeriesAutomaticInViewports(e,i=false){if(this.Controller.StudyViewerModel.Documents.IndexData.length===0)return;var n=this.Controller.ViewportPane.ViewportsArray;if(i){for(var l=0;l<n.length;l++){var a=n[l];if(a instanceof t.Mp4Viewport)a.Clear()}}var s=this.Controller.StudyViewerModel.Documents.StructureData[e].Study.Series;var u=this.Controller.View.Platform.GetSetting("buttonBarFirstSeriesPopulate")===undefined?1:parseInt(this.Controller.View.Platform.GetSetting("buttonBarFirstSeriesPopulate"));u=u-1;for(var p=u;p<s.IndexData.length;p++){var d=s.IndexData[p];var A=s.StructureData[d];var h;if(this.findSeriesOrImageInViewports(e,d,null))continue;if(!this.SerieIsMp4(A))continue;for(var w=0;w<n.length;w++){var V=n[w];try{if(!A["pseudoserie"]&&o.IsDisplay(V.ViewportFrameElement)&&V.Context.ImageEntity===null){var c=0;h=A.Images.IndexData[c];if(A.Images.StructureData[A.Images.IndexData[c]]["TypeFile"]==="MP4"){this.SetSeriesToViewport(e,d,h,p,c,i)}}}catch(e){r.Utils.DebugConsoleLog(e)}}}}GetMouseBehaviors(){var e=new Array;return e}GetMarkers(){return null}GetPointsGrips(e,t){return null}GetSettingsPaneNames(){return[]}Evaluate3DAnnotation(e,t){}OpenPaneStlLayout(){}GetSettings(e){}UpdateSettings(e,t){return true}CreateSettingsPane(e,t){}GetButtonsToMenu(e,t){var r=[];for(var o=0;o<e.length;o++){switch(e[o]){case"":break}}return{dictionary:"Mp4PluginLanguage",buttons:r}}ClearViewports(){var e=this.Controller.ViewportPane.ViewportsArray;for(var r=0;r<e.length;r++){var o=e[r];if(o instanceof t.Mp4Viewport){o.Clear()}}}findSeriesOrImageInViewports(e,r,o,i=true){var n=this.Controller.ViewportPane.ViewportsArray;for(var l=0;l<n.length;l++){var a=n[l];if(a.Context.StudyGuid===e&&a.Context.SeriesGuid===r&&a instanceof t.Mp4Viewport){if(i)return a;else if(a.Context.ImageEntity.ImageGUID===o)return a}}return null}}t.Mp4Plugin=Mp4Plugin})(r=t.Mp4Plugin||(t.Mp4Plugin={}))})(t=e.Products||(e.Products={}))})(Vue||(Vue={}));var Vue;(function(e){var t;(function(e){var t;(function(e){var t=Efferent.Frontend.WebClient.DOMUtils;var r=Efferent.ClientViews.ImagingStudyView;class Mp4Viewport extends r.Viewport{constructor(t,r,o,i,n,l){super(t,r,o,i,n);this.LoopVideo=false;this.Plugin=l;this.PluginNameAction="Mp4Viewport";this.Context=new e.Mp4ViewportContext(this);this.Context.ImageEntity=null}Create(e,r,o,i){this.ViewportElement=document.createElement("video");t.RemoveItem(o);this.ContentElement=i;super.Create(e,r);this.ViewportElement.loop=false;this.ViewportElement.poster="";this.ViewportElement.setAttribute("type","video/mp4");this.SourceVideo=document.createElement("source");this.SourceVideo.src="";this.SourceVideo.type="video/mp4";this.ViewportElement.appendChild(this.SourceVideo);this.LoopVideo=false;this.ContentElement.appendChild(this.ViewportElement);this.Plugin.Controller.ViewportPane.ViewportsCollection[e].LoadedViewports[this.constructor.name]=this}SetVideoPlay(e=0){var t=this.Plugin.Controller.StudyViewerModel.Documents.StructureData[this.Context.StudyGuid].Study.Series.StructureData[this.Context.SeriesGuid].Images.IndexData[e];var r;this.ViewportElement.poster="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAABaCAYAAABzAJLvAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAB3RJTUUH4QQZFxArNkqCtgAAAAd0RVh0QXV0aG9yAKmuzEgAAAAMdEVYdERlc2NyaXB0aW9uABMJISMAAAAKdEVYdENvcHlyaWdodACsD8w6AAAADnRFWHRDcmVhdGlvbiB0aW1lADX3DwkAAAAJdEVYdFNvZnR3YXJlAF1w/zoAAAALdEVYdERpc2NsYWltZXIAt8C0jwAAAAh0RVh0V2FybmluZwDAG+aHAAAAB3RFWHRTb3VyY2UA9f+D6wAAAAh0RVh0Q29tbWVudAD2zJa/AAAABnRFWHRUaXRsZQCo7tInAAAP8ElEQVR4nO2dfXhU1Z3HP/dlXjMjJj6u1ZW1z1NFeVFIFAUqvtQWhST4bFfBZ0VAUF5cK1ZRbBLY2tL9o75U3e52232qgFQQunYREBVxie4jrYhARR98Wt0SXA0kIYHMvXdm7tx79o9kwiTMfcFFJpnM97/JPfnO95zvPef8zplz708SQghKKFqoff9w5MgREp2dyLJcCD0lfAkIQAjBeeedh6r2trTXp1UrVvL4T3+KYRgoinI6NZbw/4AQAiuTYdjFF/PEU08xfMTwnmtSdoj+6MOPmDxpEmY6TSgcpjRyDxxIAJJEW2srU2prWfPiWiRJAnJ68Cef/JnORIKK8vJe/yyEcDRbkqQeIj/or1wAtm0PeK4hZ57Jp598QjKVIhIOAzkGy4qCkjPvSpKEaZrouk4oFMrbmLZtI4QgFosBuDa4aZoYhkEwECBfKcuyenE5QZIkMqaJbhgEAoG8ZWzbxrZtf1yZDJqmEQwGHbmEbVPmk0vXdUddQggsy/KtS9c0Ai66snWUJKmn7VVFgRwfegzue1+Zpkm0rIyHlixh+PDhWLbdq4wkSySNJGteeIE3t22jLBrNK1QIgWmahCMRFj/8ECNGjMQWNrkuy4qMpmmsX7eObVvfIBKJOFY+k8kQCAapW/wgo0aOQiB6cUmyjGEYrF+3jq2vvUY0j65cLlVVefiRRxhTWQl5uFLJJC+99BKvbNrki2vxkiVUVVbm1ZVOp9jwnxvYuGGDZx0VReniqqrKwyWRTCbZvGkzG373O1euE6LoLAzD4NHly5k1e5bjPwN869s3UDt5Cvv37yfcPSxkkb2rDMOgYdlS7po3z5XrxhtvombKFD7at4+wg2hN0/jhjx7lnnvvdeW6afJN1E6p5o979hBxMEbTNBqWLeO++xe565p8EzfX1PL+rl2OJuuaxpK6Oh5Y/KCHrikcav6CP/z+D45cmqbxwOLFPLTkYVeu6poaWltbebuxkbKysrxl8q6FLMsiHo8zYcJ41y8AiEQijK6sJJVO571uWRbRaJRx4525sjdCMBRk7NixrlzxeJzrrv+Wpy5VVZkwYQJp03TkisViXHvdtZ5ciqJw9cSJpB102bZNOBLh6okTPbkkCa64YqwjlxCCYCDAeB9tDzBu/DhMhzqCg8EAiixjWZavL+k7fPdFdk5xu378gzOPEIJgMIii+Fuje63lFUXxvVoIhUKeAZJlOdcxF7aw3bkkyXfb25Y7l3MLnETEJ3uUO5no0V85n7p8bNZIsl9dXtdPbR1PFVfeFpAkiXQ6jeUQoveF03CTrbRpmr57iqEbjtdkWUbXdXRD98XV2dnpeE2SJFKpFOlkfu190X6k3XOV4DZK5SKdTru2h2VZjsujvkgmk65ceQ1WFAXDMHju1896fsGH+z7k7cbGvJGcEAJZlkmn07yw+jeeXPs++IBt27Y5BwyyTDKZZNWKlZ5cH+//mNdfe80xwpRlmXQqxcoVKzyHw08//ZQtW7Y4ckndQ+rzK1e5zocATQeaeOP1rY4BVnblsfaFNZ66/vI/f2Hzpk2uUXTPTtYrmzcza8YdDBkypOeiYRhce911jBg5AknqfS9IkkQikeD1V1+lubmZSCTieCcJIUilUlxz7bUMHzECWZF7h/3dXK9u2cLhQ4dcuRACI5nk6muuYeSokV1bqn24dF3n1S1baP78cyLRqOsdrus6E775TUaPGXPCkJ7lemPrVg42NRH1wXXV+PFUVlWiyL23eiVJwjB03nxjGwcOHOgxxYnPMAzGjRvH6MpKVFXtVU6SupZJW19/naYDB3p0pVIphg4dyrbG7T38jgZLkoRt2+iaRsbpThKCaFkZwWDQteJZLk3TsDJW/ilUCCLRqOOmSl9omkbGNPNPjl+KK5NXlxCCSCRC2Of2raZpjkO1EIJIOEzY7Qb2yYWAcCTcS1c+gx3XwUIIJEny3MHJlvW6LkmS5w6OH64snIbxEldvOBqcxckGECWcHvhZtoEPgy3L4szycuLxuM/FSQlfJbL9teXwYUzT9DTZ0+CjHUeZt3ABDzzovgVXwumDZdlMnjSJP//pTydsD/eFp8ECQUANOP7aUkJhIEtSr1+NHMt5lhDOv0mWUBhYlpX3J9d88LWpe5K/UZdwGiCBL5NLJ+uKHCWDixwlg4scA97gUgDojgFvcCaT4SfLl/Px/v2FltIvMeANDgaDbN64iSk33sTq51cXWk6/w4A3GLrOA7e3t/PAffcx/+55fHbws0JL6jcoCoNBEA6HiZ9xBv+xbh211dX8dv36QovqFygKg6XuFb8kSZRXVNBy+DD3zF/Awnnz+ezgwcKKKzCKwuBcCNHdm+Nx1r34IrXVNax/cV2hZRUMRWdwFrIsU9Hdm+9duJCF8xfwv58Nvrm5aA3OPpwWDoeJxeOsW7t2UPbmojU4F5IkUVFRweFDh/iHe+5h4fwFfPH5F4WWdVowKAzOIhKJEI/FWL92LdWTJ/PbdcUfaQ8ag7NDdjbSPtTczD0LFrDoe9/jUHNzr3LFhEFjcC6yR2FjsRi/WbWaqTW1bHx5I+D/kZGBgkFpcBayLFNeUc7BpibunjOH7y9axKFDhwot65RiUBsMXb05Go0SjUZZ9dwKbq6u4eUNLx+/7vtwTP/EoDc4C1mWqTjrLA42NTFv7lweWHQ/LYdbkAb4YeGSwTkQ3Y+8RKNRVq5YQW11dc/cPFBRMjgPZFmmvLycpgMHmDd3Lt9fdD8tLS2FlvWlUDLYBdFolEgkwqoVK6idUs2mjZsKLemkUTLYA4qiUFFRwcGmJubMmsXC+fNpa2srtCzfKBlc5PB8dGWww7Isjh49ykXDhtGwbBk1tTWFlnRSKBnsAl3XEUIwc/Zs6hrqOfvsswst6aRRMjgPbNvu6bX1S5dSO7W20JK+NEoG50CSJHRNw7JtZs2ezQ/q6zn7rwZer81FyeBu2LbN0Y4OLho2jLqlS5l681Sga6tyIO9mDXqDJUlC0zRs22bmnbN5pK6Oc8455/j1AWwuDHKDbdvm2NFjfOOiC2lYtmxAz7VOGJQGZ99/ZZomt8+cQV19Ped87WvA8TcCFQsGjcFZ02zbpr29nQu+/nXq6uu5ZdqtecsVCwaNwdD19ri0aTL9tttY+sN/5Nxzzy20pK8cg8JgIURPr/1BXR23Tp9WaEmnDUVrcHaoNQwDM51m2m230bC0gb8+//wCKzu9KFqDbdumo6ODv7ngAurq6wdVr81F0Rnc9VZXg3Q6za3Tp9OwtIHzhw4ttKyCoSgMFt2BrxCCjvZ2hl5wAfVLG7jl1lvd/3EQoCgMhq73J2dMk7+bNo2ly5Zx/tDBNdc6oSgMPtrRQXl5OY8uX86MO2YUWk6/woA3OJ1OU11bwy233MLFl1xSaDn9DgPeYFVVqW9oKLSMfosBfyarlOfYHaXWKXKUDC5ylAwucvgyuMieiS4KCPwl+POR3K8UyPQ3KIri+yCRj2WSRCZjOuYnLOH0w7K6Mq/7eRW/p8HlZw5hzQtr2LRx0wA/flYcyE2rEwqFPMt7GiwrCh3t7bQO0McnixWnLDGWpmldw3PfWV0IFEUhEo0SCAR8vZ3GMAxSqdSJF4RAVhSiX4Yrjy5ZUYhEIp45Fb8KrmQ3lzgVXMkkqWQyL1c6nfbFldfgbIpTwzCorKpi9OjRKAEVYR8nUhSZ5uZmGrc3omuaZyJIQ9e5bMxoKqsuPyHztqLIHD7cwlvbt9PZ2enJpWs6l46+jKrLLycQULF7dHXddK2tbbzV2EhHe7tnUknDMBh16aVUVlURDAZyuLp0tbW10bjdP9fw4cO5fOxYQqHgCVytrW38d+NbtB1pc82wmj2rfcnw4Yy98sq8XO1H2nn7rbdoaWlx5XLswYlEgmnTp/PYk0+4jvU73tnBXXfeiaZpqGp+Ok3T+Nvvfpcnn/oZYZdct+/t3MnsO2aSSCQcuRKJBDW1tTz98392Td64d88eZt4+g46ODgKBgCvXM//yc8d8vgB/3LuXmbfPoL293ZFL0zS+M2kS//pvvyAWjztyfbhvHzNvn0FrSyuBoANXIsH1N9zAL371S8444wxHro/37+eOv7+d5uZmx8Rledc/lmURDoeZt2CB50Q+fsJ4rrv+egw9f1ZuIQSBQIC75893NRfgirFj+fak76A7cNm2TSAQYN6CBZ6ZOUePGcOkSZPQHTKK27aNqqrMmTvX1VyAy0aPprqm1lFX9iz1nLvvcjUXYOSoUUyprkbX9bxzqBBd7/WZPXeOq7kAF19yCbVTpzrqAgeDhRCEQiHHO6wvwuGw48uGsgbLstTz2Q3xeNxxZ8W2bcpiMYYMca94FuVnnYVT+qjsy9DK4t4pbwHXh9Cy7RVxySOYW+9QOASSc1uoqoqq+PuhrywWcw22HHcwhBDYHinGs/DMfCJErznEk8tFsIT/nTUvXUIIhM+sLX643MrkmiBs4b7kFAJhn5q2dzXYab7pC1VRXFtdAMHu0cArtJcl2TX4yGQyvlPteZUTQiD3ScXuBNu23OsoBIrPXqeoiuuIB/hue1l2bi9wMFhRFDo7O9m1633PL8hkMnz40UcEnCZ5WUbXdfbu3evJZds2u3fvdqycoigcO3aMd955x5MLYOe7O125EokEO3e+64trxzs7UB24sic533tvpy+uDz74AEXJf2PJskw6bbJnzx5fXLve3+UYkILLMikUCvFPP/4xtmVx6WWXnrgfLUl0HjvGv//yV+zZvds1UAmFQvzkR8sxzQxVl1d1VS7nrssuC5799bPs3rXLlSscDvPkY4+jKCpjKitR1eNcgq60q52JBKtXrmLnu++6ckUiEZ547HEAxl55ZVdD9dGlazpr1qzh9zt2EHUI7GRZJhqN8szPniIYCHLVuKtQVbVXz+p64M1g9fPP07i90TVIjJZFeebpZ1BUlasnTjxBF5JEKpnixbVraHzzv1y5JNGt4pXNm5k14w6GDBnSIyidTpNKpYjFYicMBZLUdZLRTKcpi7kHKj1cyRRlsTLkPAanUilSqVRXkIVzAJJNOW8YBrFY7IQ1dVZXOp0m5lNXMpl05EqlUqSSSc/oOFdXPBZDduJKpSgrK3OdqrJTka7rlMViqHm4zHQaI5nsxZVKpRg6dCjbGrcT6V6xuG50BAIBVFXFsiysPAGXqqq+Ekfnctm2nTcwUBSFWCzm+fimEAJVVYnH41iWlZfrZHUFAgFs28Y0zfy6PMzN1RWLxbBsG8uljn64FEXpqaOZh0uSZV9cPQbnNlbfu8VpvjhZ+OXy+1LuU6ULTt1PoqeyveDk65jp0xF7DP7GhRdSFouhaZrnllwJ/QsSgCRxtKODq6+5hnDOerxnDgZY+dwKnnjsMXRdd43MSuhfEEJgWRYXDRvGU8883et8eC+DAY60HSGR6Cyd4hhAEHSZfO555xHo0zFPMLiE4sL/Afgyge+7q9YWAAAAAElFTkSuQmCC";if(r!==undefined){var o=new Blob([r],{type:"video/mp4"});this.ViewportElement.src=URL.createObjectURL(o)}else{var i=this.Plugin.Controller.StudyViewerModel.Documents.StructureData[this.Context.StudyGuid].Study.Series.StructureData[this.Context.SeriesGuid].Images.StructureData[t];this.ViewportElement.src=i["ImageUriShared"]}}Actions(t){switch(t){case e.VideoActions.Play:if(this.ViewportElement.paused)this.ViewportElement.play();break;case e.VideoActions.Pause:if(!this.ViewportElement.paused)this.ViewportElement.pause();break;case e.VideoActions.Rewind:if(!this.ViewportElement.paused)this.ViewportElement.pause();if(this.ViewportElement.currentTime>0)this.ViewportElement.currentTime-=1/this.ViewportElement.duration;break;case e.VideoActions.Forward:if(!this.ViewportElement.paused)this.ViewportElement.pause();if(this.ViewportElement.currentTime<this.ViewportElement.duration){var r=Math.min(this.ViewportElement.duration,this.ViewportElement.currentTime+1/this.ViewportElement.duration);this.ViewportElement.currentTime=r}break;case e.VideoActions.Start:if(!this.ViewportElement.paused)this.ViewportElement.pause();this.ViewportElement.currentTime=0;break;case e.VideoActions.Stop:if(!this.ViewportElement.paused)this.ViewportElement.pause();this.ViewportElement.currentTime=0;break;case e.VideoActions.End:if(!this.ViewportElement.paused)this.ViewportElement.pause();this.ViewportElement.currentTime=this.ViewportElement.duration;break;case e.VideoActions.Loop:this.LoopVideo=!this.LoopVideo;if(this.ViewportElement.paused)this.ViewportElement.play();break}}Clear(){this.ViewportFrameElement.setAttribute("data-seriesGuid","");this.ViewportFrameElement.setAttribute("data-studyGuid","");t.RemoveItem(this.ViewportElement);this.Context.ImageEntity=null;this.Context.StudyGuid="";this.Context.ImageIndex=-1;this.Context.SeriesIndex=-1}}e.Mp4Viewport=Mp4Viewport})(t=e.Mp4Plugin||(e.Mp4Plugin={}))})(t=e.Products||(e.Products={}))})(Vue||(Vue={}));var Vue;(function(e){var t;(function(e){var t;(function(e){class Mp4ViewportContext{constructor(e){this.ImageSubIndex=0;this.IsPseudoSeries=false;this.InvertImage=false;this.Window=undefined;this.Level=undefined;this.WindowDelta=0;this.LevelDelta=0;this.ScaleX=1;this.ScaleY=1;this.Rotation=0;this.OffsetX=0;this.OffsetY=0;this.MouseMoveX=0;this.MouseMoveY=0;this.MouseDownX=0;this.MouseDownY=0;this.Viewport=e}}e.Mp4ViewportContext=Mp4ViewportContext})(t=e.Mp4Plugin||(e.Mp4Plugin={}))})(t=e.Products||(e.Products={}))})(Vue||(Vue={}));var Vue;(function(e){var t;(function(e){var t;(function(e){class ResourceBag{}ResourceBag.Icons8Pause32Png="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAACuSURBVFhH7Y4xCsJAEEX3BjaWktojWFinsbYW7DyJZ7DSJo0X8DpaCyLY7/pmHWEJ2wSbIP/BJ8zMz/KCEKMmxrglj0quXskwL3r3MjOvDYefd+SeUlp/w7zn+/RKhnlJEreNdSz2r+2g8dpwXODmY4Z5xaNVAZj4ynbNZyUBCUhAAhKQgAQk8AcCL3IocuHRqgC3Y9HrbAc/CbQ8cK7k5JUM87x3LzP1mhBjJIQ3mLBMg7WH4VgAAAAASUVORK5CYII=";ResourceBag.Icons8Play32Png="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAHLSURBVFhH7ZYhSANRGMdPGYOBoILBFUUwDQRhZZgsilFZsokYLKaBzaAYBYNoUjBosBhsBlkUgytisYgGQQwioiDqnb/v+M7gmLt79+5Y2A9+HO++9973v9321GnTsnieN429Okwf13UP8QkXCdKpt9NDA9zgG9ZwTEvpoAF2ePoBrkcoHGBepyQLjfwAOpTvxDjjK3zFZcZZLSXD3wACTTPcW8JnlNczpSX7sHldgACC9FHbxW88wWEt2YNNGwYIIEiROef4geuMu7QUnzABBJp24BxzH/AeZ+Wels0JGyCApt3M30D5NKqMR7VkRtQAAawp4Cl+4jZBzE5TFhsFCGDtDN6i2WnKolgBBNbncAW/sEaIopaawwIbAUawivI6NgnQo6XmsMA4gDRi7ZY2PsOClsLDosgB5D2zZgHlvd9hWUvRYXGkAMwt4SW+4yrmtGQGG4QKwJw8T77PVTjGQS3Fg43+DUDTLPUKvuA1TmjJDmzYMAD3J7Wp/FWsECajJXuwcV0AxkMoH7OwR+N+LdmHBr8BuMqBsobyBbvAkj8pSWjiB8Ayyk/qEeflp6ZTkoVmEkCeOPopZgMNYHaK2YDG9v/NatN6OM4PBcg1QyhJ5zMAAAAASUVORK5CYII=";ResourceBag.Icons8Stop32Png="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABxSURBVFhH7Y6xCYAwFAWzpI1DuIuNoJWNjRtYOIa9EwQnSHzC74P4iwh3cIQU/3EBoEpSSqeMzk42XybnfOmg19t4qK1NLjZfRkdPQGvfz2hrIIAAAggggAACCPhlwC5HJw/5KmCWq6cK6GweoCZCuAGQ40OUYGjcAAAAAABJRU5ErkJggg==";ResourceBag.Mp4PluginLanguageJson={en:{playMp4Tool:"Play",pauseMp4Tool:"Pause",stopMp4Tool:"Stop"},es:{playMp4Tool:"Reproducir",pauseMp4Tool:"Pausar",stopMp4Tool:"Detener"}};e.ResourceBag=ResourceBag})(t=e.Mp4Plugin||(e.Mp4Plugin={}))})(t=e.Products||(e.Products={}))})(Vue||(Vue={}));